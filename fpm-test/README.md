# Fixed-Point Math Test

Simple C++ program for testing temperature coefficient fixed point math.

## InfluxDB Export

Example data set exported as `gpsdo.csv`

Query:
```
SELECT mean("temperature") AS "temp", mean("pll_ppm") AS "ppm", max("pll_rmse") AS "error" FROM "gpsdo" WHERE time >= now() - 365d GROUP BY time(11s) fill(null)
```

## Results

RMSE error of temperature compensation is 2.81 ppb.  Worst compensation error is 24.5 ppb.

```
loaded 2844044 data samples

rmseI: 0.002809 ppm (0.024494 ppm) [0]
rmseF: 0.002810 ppm (0.024500 ppm) [0]

fixed point math:
Temp.   Count        Norm       X * X       X * 1       Y * X       Y * 1           m           b
 32:        1    0.000015    0.009537    0.097656   -0.041818   -0.428220    0.000000   -0.428220
 33:        2    0.000031    0.090469   -0.300781    0.134799   -0.448162    0.000000   -0.448162
 34:        5    0.000076    0.103813   -0.081243    0.038182   -0.479784    0.000000   -0.479778
 35:        3    0.000046    0.096303    0.098959   -0.050733   -0.495211    0.000000   -0.495196
 36:        4    0.000061    0.107149   -0.125970    0.063210   -0.510337    0.000000   -0.510328
 37:        2    0.000031    0.160316   -0.001950   -0.002396   -0.527670    0.000000   -0.527670
 38:        7    0.000107    0.113262   -0.130571    0.069036   -0.540048    0.000000   -0.540046
 39:        3    0.000046    0.019847    0.065105   -0.036869   -0.562914    0.000000   -0.562900
 40:        4    0.000061    0.129184   -0.051762    0.027845   -0.577787    0.000000   -0.577772
 41:      166    0.002530    0.091630    0.209680   -0.122576   -0.582310    0.000000   -0.582296
 42:     5573    0.081523    0.076521    0.181384   -0.109655   -0.600564   -0.016661   -0.597506
 43:    31834    0.384769    0.081231    0.053421   -0.033896   -0.612971   -0.014814   -0.612144
 44:    95979    0.768820    0.082132   -0.016947    0.009357   -0.627335   -0.015501   -0.627588
 45:   146660    0.893321    0.085255   -0.065346    0.040773   -0.641837   -0.014368   -0.642772
 46:   148095    0.895632    0.086035   -0.025873    0.015695   -0.657379   -0.015311   -0.657748
 47:   204704    0.956007    0.079456   -0.031269    0.019989   -0.671344   -0.012742   -0.671710
 48:   252446    0.978771    0.076884    0.035784   -0.025384   -0.684074   -0.011999   -0.683618
 49:   327094    0.993209    0.081477   -0.005478    0.002702   -0.696867   -0.013691   -0.696904
 50:   376558    0.996812    0.080923   -0.025307    0.016904   -0.709614   -0.013060   -0.709904
 51:   425167    0.998485    0.086531   -0.099193    0.070679   -0.721349   -0.011281   -0.722462
 52:   285106    0.987106    0.092814   -0.079368    0.057185   -0.733373   -0.011729   -0.734266
 53:   228014    0.969177    0.082412   -0.055083    0.040177   -0.744650   -0.010450   -0.745212
 54:   196940    0.950473    0.090038   -0.034509    0.025013   -0.756110   -0.012074   -0.756522
 55:   113274    0.822445    0.104834   -0.206016    0.157017   -0.764980   -0.009203   -0.766844
 56:     5711    0.083455    0.131757   -0.222622    0.171477   -0.773817   -0.009504   -0.775918
 57:      518    0.007873    0.175687   -0.407894    0.318260   -0.780304    0.000000   -0.780286

floating point math:
Temp.   Count        Norm       X * X       X * 1       Y * X       Y * 1           m           b
 32:        1    0.000015    0.010000    0.099998   -0.042819   -0.428200    0.000000   -0.428200
 33:        2    0.000031    0.090000   -0.299999    0.134445   -0.448150    0.000000   -0.448150
 34:        5    0.000076    0.103999   -0.079993    0.037579   -0.479780    0.000000   -0.479780
 35:        3    0.000046    0.096668    0.100002   -0.051251   -0.495200    0.000000   -0.495200
 36:        4    0.000061    0.107499   -0.124995    0.062705   -0.510325    0.000000   -0.510325
 37:        2    0.000031    0.160001    0.000003   -0.003422   -0.527650    0.000000   -0.527650
 38:        7    0.000107    0.112857   -0.128565    0.067949   -0.540043    0.000000   -0.540043
 39:        3    0.000046    0.020000    0.066668   -0.037748   -0.562900    0.000000   -0.562900
 40:        4    0.000061    0.130000   -0.050005    0.026820   -0.577775    0.000000   -0.577775
 41:      166    0.002530    0.092415    0.211462   -0.123611   -0.582304    0.000000   -0.582304
 42:     5573    0.081523    0.077241    0.183138   -0.110707   -0.600556   -0.016523   -0.597530
 43:    31834    0.384766    0.081544    0.055085   -0.034917   -0.612964   -0.014668   -0.612156
 44:    95979    0.768814    0.082204   -0.015345    0.008350   -0.627327   -0.015564   -0.627566
 45:   146660    0.893315    0.085186   -0.063794    0.039775   -0.641829   -0.014424   -0.642749
 46:   148095    0.895625    0.086094   -0.024292    0.014654   -0.657371   -0.015377   -0.657745
 47:   204704    0.956000    0.079470   -0.029683    0.018923   -0.671336   -0.012781   -0.671716
 48:   252446    0.978764    0.077119    0.037408   -0.026495   -0.684067   -0.011966   -0.683619
 49:   327094    0.993202    0.081601   -0.003864    0.001576   -0.696860   -0.013685   -0.696913
 50:   376558    0.996804    0.080990   -0.023720    0.015776   -0.709607   -0.013128   -0.709919
 51:   425167    0.998478    0.086373   -0.097667    0.069577   -0.721342   -0.011389   -0.722455
 52:   285106    0.987098    0.092748   -0.077839    0.056061   -0.733367   -0.011799   -0.734285
 53:   228014    0.969169    0.082384   -0.053528    0.039018   -0.744644   -0.010582   -0.745210
 54:   196940    0.950466    0.090109   -0.032947    0.023830   -0.756104   -0.012144   -0.756504
 55:   113274    0.822438    0.104374   -0.204567    0.155905   -0.764973   -0.009334   -0.766882
 56:     5711    0.083455    0.131424   -0.221360    0.170497   -0.773811   -0.009624   -0.775941
 57:      518    0.007873    0.174893   -0.406761    0.317371   -0.780300    0.000000   -0.780300
```
